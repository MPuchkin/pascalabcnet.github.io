---
title: Версия 3.6.4 (будущие изменения)
keywords: release notes, what's new, announcements, new features
last_updated: 05.05.20
sidebar: mydoc_sidebar
permalink: mydoc_release_notes_3_6_4.html
toс: false
folder: mydoc
---

## Массивы-значения (реализовано)

Для формирования массива из значений используется конструкция

```pascal
begin
  var a := |1,3,5,7,9|;
  a.Println;
  var aa := ||1,2,3|,|4,5,6|,|7,8,9||; // массив массивов
  var aa1 := ||1,2|,|4|*3,|0|*0|; // последний массив - пустой!
 
  var b := 10 * |0|; // массив из 10 нулей
  var m := Matr(|1,2,3|,|4,5,6|,|7,8,9,10|); // матрица. Недостающие элементы заполняются нулями
end.  
```

В массивах-значениях допускается использование различных типов: при использовании целых и вещественных типов результат приводится к вещественному, при ипользовании символов и строк результат приводится к строковому, при использовании объектов базового и производного классов результат приводится к базовому:

```pascal
##
var a := |1,2.5,3|;
var b := |'z','sss','q'|;
var c := |new Person, new Student|;
```

## Запись программ без внешнего begin-end (реализовано)

Для записи программ без внешнего begin-end используется префикс ##

При этом способе записи невозможно использовать описание констант, типов (в т.ч. классов), процедур и функций

Область использования данного способа записи - короткие программ, состоящие из нескольких команд:

```pascal
##
var a := ArrRandomInteger;
a.Println;
a := a[1:] + |a[0]|;
```

## Стандартные функции SeekEof SeekEoln Eoln (реализовано)

Добавлены стандартные функции SeekEof и SeekEoln для совместимости с Delphi

Исправлено поведение стандартной Eoln - теперь на конце файла она возвращает True

## Стандартные функции и операции для матриц и одномерных массивов (реализовано)

```pascal
x in matr

MatrEqual(m,m1)
m.MatrEqual(m1)

ArrEqual(a,a1)
a.ArrEqual(a1)

MatrByRow, MatrByCol - создают матрицу из последовательости

a.Rows a.Cols теперь возвращают массив массивов
```

## Распаковка в переменные из массива и последовательности (не реализовано)

Можно будет производить распаковку значений в переменные из массива и последовательности так как это сейчас осуществляется для кортежей. Несовпадение размеров при этом будет проверяться на этапе выполнения, а не на этапе компиляции.

```pascal
begin
  var a := Arr(1..3);
  var (x,y,z) := a;
  (x,y,z) := a;
  
  var seq := ArrRandomInteger(10).Order.Distinct;
  var (min,min2) := seq;
end.
```

## Расширенный foreach по последовательности кортежей и по словарям (не реализовано)
```pascal
foreach var (i, v)
```

## Тип RealRange (реализовано)

Добавлен стандартный тип RealRange
```pascal
if x in 2.5..3.4 then
  Print(1);
```

## Изменения в GraphWPF (реализовано)

При вызове `DrawGraph` теперь рисуется сетка, оси, заголовок и значения на осях (автоматически)

Имя типа `FontType` заменено на `FontOptions`

`DrawText` и `TextOut` с параметром `FontOptions`

`Font.WithSize`, `Font.WithStyle`, `Font.WithColor`, `Font.WithName`

добавлен класс `Vector` и операции над ним и точкой, создающая функция `Vect`

Метод `Line` - с параметрами-точками (потом надо будет сделать то же для всех примитивов)

Метод `Lines(n)`

`RandomPoint` и `RandomPoints(n)`


## IDE - улучшена подсветка форматных строк (реализовано @Kotov)






{% include links.html %}

